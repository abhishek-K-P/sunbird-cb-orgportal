<div [ngClass]="{'hideElement': openMaterial}" class="closedCard">
  <div class="flex justify-between">
    <div class="pdfName">{{materialDetails?.title}}</div>
    <div class="flex gap-1">
      <mat-icon class="edit-icon flex items-center" (click)="openStatus(true)">edit</mat-icon>
      <ng-container *ngIf="openMode === 'edit'">
        <mat-icon class="edit-icon flex items-center" (click)="deleteMaterialFromList()">delete</mat-icon>
      </ng-container>
    </div>
  </div>
</div>

<div [ngClass]="{'hideElement': !openMaterial}" class="openCard flex flex-column gap-4 px-4 py-4">
  <form [formGroup]="eventForm" class="flex flex-column gap-2 w-full event-form"
    [ngClass]="{'disableForm': openMode === 'view'}">
    <div class="form-lable required">
      Full Name
    </div>
    <mat-form-field appearance="outline" class="">
      <input matInput placeholder="Enter name" formControlName="title">
      <mat-error *ngIf="eventForm?.controls?.title.touched && eventForm?.controls?.title.hasError('required')">
        Name is mandatory
      </mat-error>
    </mat-form-field>
  </form>

  <div class="flex flex-column gap-2 w-full">
    <div class="form-lable required">
      Uploaded File
    </div>
    <ng-container *ngIf="materialName; else uploadMaterial">
      <div class="file-card p-4">
        <div class="flex justify-between">
          <div class="flex gap-2">
            <img src="/assets/icons/events_pdf.svg" alt="pdf">
            <div class="pdfName">{{materialName}}</div>
          </div>
          <ng-container *ngIf="openMode === 'edit'">
            <mat-icon class="clearMaterial" (click)="removeMaterial()">clear</mat-icon>
          </ng-container>
        </div>
      </div>
    </ng-container>
    <ng-template #uploadMaterial>
      <div class="upload flex justify-center items-center cursor-pointer dashed-border"
        [ngClass]="{'disable': openMode === 'view' || disableUpload }" cdkDropList [cdkDropListData]="videoData"
        (cdkDropListDropped)="onMaterialSelect($event)" (dragover)="preventDefaultCDK($event)"
        (dragenter)="preventDefaultCDK($event, 'enter')" (dragleave)="preventDefaultCDK($event, 'leave')"
        (drop)="onDrop($event)" onclick="document.getElementById('upload-material').click();">
        <input #file type="file" name="upload-material" id="upload-material" class="hidden" accept=".pdf, .doc, .ppt"
          (change)="onMaterialSelect(file.files);">
        <div class="flex flex-column items-center gap-2">
          <img src="/assets/icons/upload-upward-arrow.svg" alt="icon">
          <span class="text-sm font-bold text-blue">Drag file to upload<strong class="text-red-700">*</strong></span>
          <!-- <span class="text-xs font-normal">Max file size: 400 MB</span> -->
          <span class="text-xs font-normal">Supported file types: pdf, doc, ppt</span>
        </div>
      </div>
    </ng-template>
  </div>

  <div class="flex justify-center gap-4 mb-2">
    <button mat-button class="cancel-btn" (click)="openStatus(false)">Cancel</button>
    <ng-container *ngIf="openMode === 'edit'">
      <button mat-button class="save-btn" (click)="saveDetails()" [ngClass]="{'disablebtn': eventForm?.invalid}"
        [disabled]="materialDetails?.invalid">{{materialDetails?.title
        ? 'Update' :
        'Save'}}</button>
    </ng-container>
  </div>

</div>