<div [@expandCollapse]="isExpanded ? 'expanded' : 'collapsed'" [ngClass]="{'expanded': isExpanded}">
  <div class="competency-passbook-theme"
    [ngClass]="{'behavioural': (competencyArea.toLowerCase() === 'behavioural' || competencyArea.toLowerCase() === 'behavioral'), 'functional': competencyArea.toLowerCase() === 'functional', 'domain': competencyArea.toLowerCase() === 'domain', 'shadow-md': isExpanded}">
    <div class="detail">
      <div class="flex flex-col gap-2">
        <div class="text-base font-bold ellipsis" title="{{ theme?.competencyThemeName }}">{{ theme?.competencyThemeName
          }}
        </div>
        <div class="flex flex-wrap gap-4 chip-container">
          <ng-container *ngFor="let subTheme of theme?.subThems; let i = index">
            <div class="chip rounded-full text-xs"
              [ngClass]="{'hidden': (i >= 1 && !isExpanded), 'chip-ellipsis': !isExpanded && theme?.subThems?.length > 1 }"
              title="{{ subTheme.competencySubThemeName }}">
              {{ subTheme.competencySubThemeName }}
            </div>
          </ng-container>
          <div class="flex items-center ws-mat-default-text underline cursor-pointer text-xs"
            *ngIf="theme?.subThems?.length > 1 && !isExpanded" (click)="handleToggleSize()">
            View more
          </div>
          <div class="flex items-center ws-mat-default-text underline cursor-pointer text-xs" *ngIf="isExpanded"
            (click)="handleToggleSize()">
            View less
          </div>
        </div>
      </div>
    </div>
  </div>
</div>