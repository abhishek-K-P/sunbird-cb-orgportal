<div>
  <div class="add-speaker-header flex justify-between items-center px-6">
    <span class="add-speaker-text">Add Speaker</span>
    <mat-icon class="close-icon" (click)="dialogRef.close()">close</mat-icon>
  </div>
  <form [formGroup]="speakerForm" class="flex flex-column gap-4 add-speaker-content p-6">
    <div class="flex flex-column gap-2 event-form w-full">
      <div class="form-lable required">
        Email
      </div>
      <mat-form-field appearance="outline" class="emailForm">
        <input matInput placeholder="Enter email" formControlName="email" [matAutocomplete]="auto">
        <mat-autocomplete #auto="matAutocomplete">
          <ng-container *ngFor="let user of filteredUsers">
            <mat-option class="users-option" [value]="user.maskedEmail" (click)="selected(user)">
              <div class="flex gap-3">
                <div class="iconDiv">
                  <span class="iconText">{{user.iconText.substring(0,2)}}</span>
                </div>
                <div class="flex flex-column">
                  <div class="userName">{{user.name}}</div>
                  <div class="emailText">{{user.maskedEmail}}</div>
                </div>
              </div>
            </mat-option>
          </ng-container>
        </mat-autocomplete>
        <mat-error *ngIf="speakerForm?.controls?.email?.touched && speakerForm?.controls?.email?.hasError('required')">
          email is mandatory
        </mat-error>
        <mat-error *ngIf="speakerForm?.controls?.email?.touched &&
                speakerForm?.controls?.email?.hasError('pattern')" aria-label="Please enter a valid email">
          Please enter a valid email
        </mat-error>
      </mat-form-field>
    </div>
    <div class="flex flex-column gap-2 event-form w-full">
      <div class="form-lable required">
        Name
      </div>
      <mat-form-field appearance="outline" class="">
        <input matInput placeholder="Enter name" formControlName="name">
      </mat-form-field>
      <mat-error *ngIf="speakerForm?.controls?.name?.touched && speakerForm?.controls?.name?.hasError('required')">
        name is mandatory
      </mat-error>
    </div>
    <div class="flex flex-column gap-2">
      <div class="form-lable">
        Description
      </div>
      <mat-form-field appearance="outline" class="">
        <textarea matInput placeholder="Add your description" formControlName="description" maxlength="250"> </textarea>
      </mat-form-field>
      <span class="description-count flex justify-end">{{speakerForm?.controls?.description.value?.length}}/250</span>
    </div>
  </form>

  <div class="add-speaker-footer flex items-center justify-end gap-2 px-6">
    <button mat-button class="cancelBtn" (click)="dialogRef.close()">Cancel</button>
    <button mat-button class="add-user-btn" (click)="addSpeaker()">{{speakerDetails ? 'Update User' : 'Add User'}}
    </button>
  </div>
</div>